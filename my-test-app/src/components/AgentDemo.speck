<AgentDemo>
  <state userMessage={"Tell me a joke about programming"} />
  
  <div style="max-width: 600px; margin: 0 auto; padding: 20px; font-family: sans-serif;">
    <h1 style="color: #7c3aed;">ğŸ¤– Claude AI Chat Demo</h1>
    <p style="color: #666;">Powered by Anthropic Claude via Speck.js Agent Component</p>
    
    <Agent 
      purpose="You are a friendly and helpful AI assistant. Keep responses concise and engaging." 
      model="claude-3-5-sonnet-20241022" 
      provider="anthropic"
      streaming={true}
    >
      {({ send, response, loading, error }) => (
        <div>
          <div style="margin: 20px 0;">
            <label style="display: block; margin-bottom: 8px; font-weight: bold;">Your Message:</label>
            <input 
              type="text"
              value={state.userMessage.value} 
              onChange={(e) => state.userMessage.value = e.target.value}
              onKeyPress={(e) => e.key === 'Enter' && !loading && send(state.userMessage.value)}
              style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;"
              placeholder="Type your message here..."
              disabled={loading}
            />
          </div>
          
          <button 
            onClick={() => send(state.userMessage.value)} 
            disabled={loading}
            style="width: 100%; padding: 12px 24px; background: #7c3aed; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; opacity: ${loading ? '0.6' : '1'};"
          >
            {loading ? "ğŸ¤” Claude is thinking..." : "ğŸ’¬ Send to Claude"}
          </button>
          
          <if condition={error}>
            <div style="margin-top: 20px; padding: 16px; background: #fee2e2; border: 2px solid #ef4444; border-radius: 8px; color: #991b1b;">
              <strong>âŒ Error:</strong> {error}
            </div>
          </if>
          
          <if condition={response}>
            <div style="margin-top: 20px; padding: 16px; background: #f3f4f6; border: 2px solid #7c3aed; border-radius: 8px;">
              <strong style="color: #7c3aed;">ğŸ¤– Claude says:</strong>
              <p style="margin-top: 8px; white-space: pre-wrap; line-height: 1.6;">{response}</p>
            </div>
          </if>
        </div>
      )}
    </Agent>
  </div>
</AgentDemo>;
